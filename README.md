# Telegram бот для озвучки

Простой бот на `pyTelegramBotAPI`, который:
- приветствует командой `/start` и показывает клавиатуру выбора голосов (список подтягивается из ElevenLabs);
- принимает аудио/voice, сохраняет их локально;
- умеет присылать сохраненные файлы по команде `/send`, показывает список `/files` с кнопками для отправки;
- озвучивает текст через ElevenLabs (сообщения или команда `/tts`).

## Быстрый старт
1. Активируйте виртуальное окружение (если нужно) и установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Укажите токен бота:
   ```bash
   export TELEGRAM_BOT_TOKEN="ваш_токен"
   # опционально: путь к каталогу хранения
   export STORAGE_DIR="storage"
   # ключ и модель ElevenLabs
   export ELEVENLABS_API_KEY="your_api_key"  # или API_KEY=...
   export ELEVENLABS_MODEL="eleven_multilingual_v2"
   # ширина ряда кнопок выбора голоса
   export KEYBOARD_ROW_WIDTH="2"
   # ширина ряда кнопок списка файлов
   export KEYBOARD_FILES_ROW_WIDTH="1"
   ```
3. Запустите бота:
   ```bash
   python bot.py
   ```

## Как пользоваться
- `/start` — приветствие и выбор голоса (inline-кнопки; голоса берутся из ElevenLabs).
- Нажмите на кнопку с голосом, чтобы зафиксировать выбор.
- Отправьте аудио или voice — бот сохранит файл и подскажет команду для отправки.
- `/send` без аргументов — пришлет последний сохраненный файл, `/send имя_файла` — конкретный файл из хранилища.
- `/files` — список сохраненных файлов с кнопками для скачивания.
- `/help` — краткая справка по командам.
- Текстовое сообщение или `/tts ваш текст` — озвучка выбранным голосом через ElevenLabs.

Файлы кладутся в каталог `storage` (можно изменить переменной окружения).
